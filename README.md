# 实体硬盘（hard_disk）

##架构
我们自行设计一套软硬结合的产品，目的提高仓储存取效率和有效利用空间。

###机械
产品是可以3维方向运动的机械装置，通过将丝杠和传动带将拾取物品盒子的电磁铁在空间中移动到特定位置以吸取物品盒。
物品盒通过阵列的方式排列在三维空间，每一层物品盒放在5×5的物品盒架上，物品盒架堆叠排列成三维阵列。
通过传动系统将三维空间的物品盒架抬升留出空隙，将电磁铁伸入空隙以拾取物品盒。 @顾

####机械结构细节
同步带轮高于滑块且相对于轴承可以转动。因此需要带轴承的同步带轮，同时在滑块上攻螺纹孔，螺纹孔采用普通标准螺纹。将平头螺柱前段旋合固定在螺纹孔上，中段为圆柱，后段为平头将同步带轮轴承内圈压死，滑块表面加垫圈。

交错的同步带利用abs垫高柱将最外围同步带垫高以进行交错。

###硬件
硬件部分包括电路驱动和排线的优化 @陈 ，以及外观设计和结构优化 @常。

###软件
软件分为驱动控制和用户交互。
驱动控制利用arduino驱动步进电机和电磁铁工作。
用户交互部分，树莓派驱动显示器与用户交互，运行本地数据库，并且通过串口控制arduino底层控制。
树莓派部分用python进行io控制，python连接数据库，运行Python2.7 和 PyQt4 进行用户交互图形化显示 @孙。

####软件接口说明


| 函数          | 参数      | 返回值    |功能 |说明|
| -------       |---------- |--------   |---  |-------------------|
|openDB	        |null	      |true?	    |打开并且连接数据库	|连接本地数据库，账号密码都是预设的无需改变。连接速度较快也可以时连时断。
|addRecord      |	type, model, parameter, x, y, z, status	|true?	|添加元件,将occupied置为true	|添加记录|
|deleteRecord	  |type, model, parameter	|true?	|删除元件，将occupied置为false|
|checkInRecord  |	type, model, parameter, x,y,z	|true?	|将status设为在架上，并且指定元件的位置，将occupied置为true
|checkOutRecord	|type, model, parameter|	true?	|将status设为借出，将occupied置为false
|closeDB	|null	|true?|	断开连接数据库	
|loadAllRecords	|null|	tuple	|将所有元件都读取出来	|用以将数据库元件进行列表显示
|loadCertainTypeRecords	|type	|tuple	|将type为XX的所有元件读取出来	|用以检索数据库特定种类的元件

##资料说明
所有我有的资料都会传到nas.thu-skyworks.org:/upload/2015新人项目工作辅助组，以下是我上传的内容的简介

### mdk511
这是keil公司开发的嵌入式开发软件，stm32开发利器，个人感觉有个IDE确实爽，比直接用makefile编译会舒服很多
###jlink 
这是驱动程序，如果有jlink驱动小板的可以下载一下。安装以后重启即可。
驱动是让电脑识别jlink，酱紫就可以通过jlink小板将程序下载到芯片里面执行
###st-link
同jlink，也是驱动程序。下载安装重启即可。插入Stlink设备系统应该会自动识别的
以上驱动我都是在windows7平台上试验的，其他系统不好用请自己百度相应的驱动版本
###sscom
一个串口助手软件，让电脑通过usb口即可收到单片机信息的软件（当然单片机端需要进行串口发送的配置）
###exercise
例程大礼包，stm32f1xx型号的单片机适用的例程里面有很多，包括所有的基础程序。
需要掌握的至少有：LED USART PWM
###F4_exercise20140503
例程大礼包，stm32f4xx型号的单片机适用的例程里面有很多，包括所有的基础程序。
